@if (paginatedMembers(); as paginatedResult) {
    <div class="flex flex-col w-full">
        <!-- Top Controls -->
        <div class="flex flex-col gap-4 md:flex-row md:justify-between md:items-center">
            
            <!-- Left: Filters + Message -->
            <div class="flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center">
                <button (click)="openModal()" class="btn btn-primary">Select Filters</button>
                <button (click)="resetFilters()" class="btn btn-neutral">Reset Filters</button>
                <div class="text-lg bg-base-100 py-2 px-4 border rounded-lg text-primary capitalize">
                    {{displayMessage}}
                </div>
            </div>
        </div>
    
        <!-- Member Cards -->
        @if (paginatedResult.items; as members) {
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 mt-2">
            @for (member of members; track member.id) {
            <app-member-card [member]="member" />
            }
        </div>
        }

        <!-- Bottom: Paginator -->
        @if (paginatedResult.metadata; as metadata) {
        <div class="self-center md:self-auto mt-6">
            <app-paginator 
                [pageNumber]="metadata.currentPage" 
                [totalCount]="metadata.totalCount"
                [totalPages]="metadata.totalPages" 
                [pageSize]="metadata.pageSize" 
                (pageChange)="onPageChange($event)" />
        </div>
        }
    </div>
}

<!-- Filter Modal -->
<app-filter-model 
    #filterModal 
    [hidden]="!paginatedMembers()" 
    (closeModal)="onClose()" 
    (submitData)="onFilterChange($event)" 
    [memberParams]="memberParams">
</app-filter-model>
